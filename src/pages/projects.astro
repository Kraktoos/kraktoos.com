---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Card from "../components/Card.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../config";

export interface Props {
  title: string;
  img: string;
  stack: string[];
  description: string;
  link: string;
}

const { title, img, description, stack, link } = Astro.props as Props;

import projects from "../data/projects.json";
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <BaseHead title={"Projects | Kraktoos"} description={"Some of my most notable projects."} />
    <style>
      section {
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .projects-grid {
        display: grid;
        grid-gap: 1.2rem;
        width: 75rem;
        grid-template-columns: 1fr 1fr 1fr;
      }
      @media (max-width: 1300px) {
        .projects-grid {
          width: 65rem;
        }
      }
      @media (max-width: 1150px) {
        .projects-grid {
          width: 100%;
          grid-template-columns: 1fr 1fr;
        }
      }
      @media (max-width: 620px) {
        .projects-grid {
          text-align: center;
          grid-template-columns: 1fr;
        }
        .stack {
          margin: 0 auto;
          background-color: red;
        }
      }
    </style>
  </head>
  <body>
    <Header title={"Projects | Kraktoos"} />
    <main>
      <section>
        <div class="projects-grid">
          {projects.map((project: { title: string; img: string; stack: string[]; description: string; link: string }) => <Card title={project.title} img={project.img} stack={project.stack} description={project.description} link={project.link} />)}
        </div>
      </section>
    </main>
    <Footer />
  </body>
</html>
